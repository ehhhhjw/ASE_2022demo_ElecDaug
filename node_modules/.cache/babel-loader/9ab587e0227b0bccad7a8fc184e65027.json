{"remainingRequest":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/thread-loader/dist/cjs.js!/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/babel-loader/lib/index.js!/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/src/components/page/Image_T_AugTaskAdd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/src/components/page/Image_T_AugTaskAdd.vue","mtime":1653655518740},{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.array.from\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.function.name\";\nimport _slicedToArray from \"/Users/hejiawei/Desktop/\\u4E94\\u6708/LidarPlatformFrontend-hjw 2/node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/hejiawei/Desktop/\\u4E94\\u6708/LidarPlatformFrontend-hjw 2/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport qs from 'qs';\nimport jsonp from 'jsonp';\nimport * as echarts from 'echarts';\nimport fileDownload from 'js-file-download';\nexport default {\n  name: 'baseform',\n  inject: ['reload'],\n  data: function data() {\n    // var checkMethod = (rule, value, callback) => {\n    //     console.log('method:' + value);\n    //     if (value === '') {\n    //         return callback(new Error('生成方法不能为空'));\n    //     }\n    // };\n    return {\n      checked1: false,\n      checked2: false,\n      checked3: false,\n      checked4: false,\n      checked5: false,\n      preview_value: [],\n      previewDialogVisible: false,\n      preview_options: [],\n      data_x_o: [],\n      data_y_o: [],\n      data_x_g: [],\n      data_y_g: [],\n      buttons: true,\n      method_value: [],\n      type_value: '',\n      temp: [1, 1],\n      mark_group: {\n        marks1_10: {\n          1: '1',\n          10: {\n            style: {\n              width: '30px'\n            },\n            label: '10'\n          }\n        }\n      },\n      activeNames: [null],\n      activeName: 'first',\n      form: {\n        augment_type_one: 0,\n        augment_type_two: 0,\n        augment_type_three: 0,\n        augment_type_four: 0,\n        augment_type_five: 0,\n        params: 1,\n        file: {}\n      },\n      FormRules: {// // 验证用户名是否合法\n        // name: [{ required: true, message: '任务名不可为空', trigger: 'blur' }],\n        // // 验证密码是否合法\n        // augmentation_method: [{ required: true, message: '生成方法不可为空', trigger: 'blur' }]\n      },\n      // loadingMethod: false,\n      methods: [],\n      fileList: [],\n      typeList: [],\n      value: [],\n      options: [{\n        value: 'Transmission Metamorphic Methods',\n        label: 'Transmission Metamorphic Methods',\n        children: [{\n          value: 'Radio Noise',\n          label: 'Radio Noise'\n        }, {\n          value: 'Signal Outage',\n          label: 'Signal Outage'\n        }, {\n          value: 'Signal Disruptions',\n          label: 'Signal Disruptions'\n        }]\n      }, {\n        value: 'Time-frequency Metamorphic Methods',\n        label: 'Time-frequency Metamorphic Methods',\n        children: [{\n          value: 'Channel Transformation',\n          label: 'Channel Transformation'\n        }, {\n          value: 'Power Zooming',\n          label: 'Power Zooming'\n        }]\n      }]\n    };\n  },\n  methods: {\n    Preview: function () {\n      var _Preview = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(index) {\n        var one, two, three, four, five, file_name, _yield$this$$http, data, details, i, _i, temp;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                // GET:129.211.89.155:8050/showwavemessage?augment_type_one=0&augment_type_two=1&augment_type_three=0&augment_type_four=0&augment_type_five=0\n                one = 0, two = 0, three = 0, four = 0, five = 0;\n                file_name = '';\n\n                if (index == 1) {\n                  one = 1;\n                } else if (index == 2) {\n                  two = 1;\n                } else if (index == 3) {\n                  three = 1;\n                } else if (index == 4) {\n                  four = 1;\n                } else if (index == 5) {\n                  five = 1;\n                }\n\n                console.log('/showwavemessage?augment_type_one=' + one + '&augment_type_two=' + two + '&augment_type_three=' + three + '&augment_type_four=' + four + '&augment_type_five=' + five);\n                _context.next = 6;\n                return this.$http({\n                  url: '/showwavemessage?augment_type_one=' + one + '&augment_type_two=' + two + '&augment_type_three=' + three + '&augment_type_four=' + four + '&augment_type_five=' + five,\n                  method: 'get'\n                });\n\n              case 6:\n                _yield$this$$http = _context.sent;\n                data = _yield$this$$http.data;\n                console.log('data:', data);\n                details = [];\n\n                if (index == 1) {\n                  details = data.detailsone;\n                } else if (index == 2) {\n                  details = data.detailstwo;\n                } else if (index == 3) {\n                  details = data.detailsthree;\n                } else if (index == 4) {\n                  details = data.detailsfour;\n                } else if (index == 5) {\n                  details = data.detailsfive;\n                }\n\n                console.log(details); // console.log('data.details:', data.details);\n                // console.log('data.details[0]:', data.details[0]);\n                // console.log('data.details[0]:', data.details[0].data[0]);\n\n                for (i = 0; i < details.length; i++) {\n                  console.log('data.details[i]:', details[i]);\n                  this.data_x_g.push(details[i].data[0]);\n                  this.data_y_g.push(details[i].data[1]);\n                  this.data_x_o.push(data.original[i].data[0]);\n                  this.data_y_o.push(data.original[i].data[1]);\n                }\n\n                console.log(this.data_x_g);\n                console.log(this.data_y_g);\n                console.log(this.data_x_o);\n                console.log(this.data_y_o); // console.log('data_x:', this.data_x);\n                // console.log('data_y:', this.data_y);\n\n                this.preview_options = [];\n\n                for (_i = 0; _i < this.data_x_o.length; _i++) {\n                  temp = {};\n                  temp.value = '' + _i;\n                  temp.label = 'data' + _i;\n                  this.preview_options.push(temp);\n                }\n\n                console.log('this.preview_value:', this.preview_value);\n                this.previewDialogVisible = true;\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function Preview(_x) {\n        return _Preview.apply(this, arguments);\n      }\n\n      return Preview;\n    }(),\n    DownLoad: function () {\n      var _DownLoad = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(index) {\n        var one, two, three, four, five, file_name, _yield$this$$http2, data;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // GET:129.211.89.155:8050/downloadwave?augment_type_one=0&augment_type_two=0&augment_type_three=0&augment_type_four=1&augment_type_five=0\n                one = 0, two = 0, three = 0, four = 0, five = 0;\n                file_name = '';\n\n                if (index == 1) {\n                  one = 1;\n                  file_name = 'downloaddata_GN.json';\n                } else if (index == 2) {\n                  two = 1;\n                  file_name = 'downloaddata_RE.json';\n                } else if (index == 3) {\n                  three = 1;\n                  file_name = 'downloaddata_F.json';\n                } else if (index == 4) {\n                  four = 1;\n                  file_name = 'downloaddata_ST.json';\n                } else if (index == 5) {\n                  five = 1;\n                  file_name = 'downloaddata_Z.json';\n                }\n\n                _context2.next = 5;\n                return this.$http({\n                  url: '/downloadwave?augment_type_one=' + one + '&augment_type_two=' + two + '&augment_type_three=' + three + '&augment_type_four=' + four + '&augment_type_five=' + five,\n                  method: 'get',\n                  contentType: 'application/x-www-form-urlencoded',\n                  responseType: 'blob'\n                });\n\n              case 5:\n                _yield$this$$http2 = _context2.sent;\n                data = _yield$this$$http2.data;\n                console.log('download:', data);\n                fileDownload(data, file_name);\n\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function DownLoad(_x2) {\n        return _DownLoad.apply(this, arguments);\n      }\n\n      return DownLoad;\n    }(),\n    // 发送添加任务申请\n    onSubmit: function onSubmit() {\n      var _this = this;\n\n      this.loading = true;\n      this.form.master = this.$store.state.userId;\n      this.$refs.formRef.validate( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(valid) {\n          var adddata, _iterator, _step, _step$value, a, b, _yield$_this$$http, data;\n\n          return regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!1) {\n                    _context3.next = 32;\n                    break;\n                  }\n\n                  adddata = new FormData(); // name\n\n                  if (!(!_this.checked1 && !_this.checked2 && !_this.checked3 && !_this.checked4 && !_this.checked5)) {\n                    _context3.next = 6;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", _this.$message.error('Please select the method! '));\n\n                case 6:\n                  _this.form.augment_type_one = _this.checked1 ? 1 : 0;\n                  _this.form.augment_type_two = _this.checked2 ? 1 : 0;\n                  _this.form.augment_type_three = _this.checked3 ? 1 : 0;\n                  _this.form.augment_type_four = _this.checked4 ? 1 : 0;\n                  _this.form.augment_type_five = _this.checked5 ? 1 : 0;\n\n                case 11:\n                  adddata.append('augment_type_one', _this.form.augment_type_one);\n                  adddata.append('augment_type_two', _this.form.augment_type_two);\n                  adddata.append('augment_type_three', _this.form.augment_type_three);\n                  adddata.append('augment_type_four', _this.form.augment_type_four);\n                  adddata.append('augment_type_five', _this.form.augment_type_five);\n                  adddata.append('params', _this.form.params); // file\n\n                  _this.form.file = document.getElementById('filetemp').files[0];\n\n                  if (!_this.form.file) {\n                    _context3.next = 22;\n                    break;\n                  }\n\n                  adddata.append('file', _this.form.file);\n                  _context3.next = 24;\n                  break;\n\n                case 22:\n                  _this.loading = false;\n                  return _context3.abrupt(\"return\", _this.$message.error('Please upload the file! '));\n\n                case 24:\n                  _iterator = _createForOfIteratorHelper(adddata.entries());\n\n                  try {\n                    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                      _step$value = _slicedToArray(_step.value, 2), a = _step$value[0], b = _step$value[1];\n                      console.log(a, b);\n                    }\n                  } catch (err) {\n                    _iterator.e(err);\n                  } finally {\n                    _iterator.f();\n                  }\n\n                  _context3.next = 28;\n                  return _this.$http({\n                    url: 'uploadwave',\n                    data: adddata,\n                    method: 'post' // contentType: 'application/x-www-form-urlencoded',\n                    // responseType: 'blob'\n\n                  });\n\n                case 28:\n                  _yield$_this$$http = _context3.sent;\n                  data = _yield$_this$$http.data;\n                  console.log('data:', data);\n\n                  if (data.page == 200) {\n                    _this.$message.success('Submitted successfully!'); // 重置表单\n\n\n                    _this.buttons = false;\n                  } else {\n                    _this.$message.error('Submission failed!');\n                  } // console.log('重置表单');\n                  // this.reload();\n                  // this.$store.commit('storeToken', data.data.token);\n\n\n                case 32:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3);\n        }));\n\n        return function (_x3) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    },\n    Reset: function Reset() {\n      this.reload();\n    },\n    previewHandleChange: function () {\n      var _previewHandleChange = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                console.log('this.preview_value:', this.preview_value);\n                this.get_preview();\n\n              case 2:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function previewHandleChange() {\n        return _previewHandleChange.apply(this, arguments);\n      }\n\n      return previewHandleChange;\n    }(),\n    get_preview: function get_preview() {\n      var myChart = echarts.init(document.getElementById('preview'));\n      var option = {\n        title: {\n          text: 'Input data'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            animation: false\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: this.data_x_o[parseInt(this.preview_value[0])]\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: this.data_y_o[parseInt(this.preview_value[0])],\n          type: 'line'\n        }]\n      };\n      myChart.setOption(option);\n      var myChart2 = echarts.init(document.getElementById('preview2'));\n      var option2 = {\n        title: {\n          text: 'Augmented data'\n        },\n        tooltip: {\n          trigger: 'axis',\n          axisPointer: {\n            animation: false\n          }\n        },\n        xAxis: {\n          type: 'category',\n          data: this.data_x_g[parseInt(this.preview_value[0])]\n        },\n        yAxis: {\n          type: 'value'\n        },\n        series: [{\n          data: this.data_y_g[parseInt(this.preview_value[0])],\n          type: 'line'\n        }]\n      };\n      myChart2.setOption(option2);\n    },\n    clickfiletemp: function clickfiletemp() {\n      document.getElementById('filetemp').click();\n    },\n    reloadPage: function reloadPage() {\n      this.reload();\n    },\n    handleChange: function handleChange(value) {\n      console.log(value);\n      this.form.augmentation_type_name = value[0];\n      this.form.augmentation_method_name = value[1];\n      console.log('this.form.augmentation_type_name:', this.form.augmentation_type_name);\n      console.log('this.form.augmentation_method_name:', this.form.augmentation_method_name);\n    },\n    // 上传文件[this.form.file赋值]\n    fileLoad: function fileLoad() {\n      var selectedFile = this.$refs.image_t_file_ref.files[0];\n      var fileName = selectedFile.name;\n      var pos = fileName.lastIndexOf('.');\n      var lastName = fileName.substring(pos, fileName.length);\n      console.log(lastName, lastName.toLowerCase());\n      console.log('lastName:', lastName);\n\n      if (lastName.toLowerCase() !== '.json') {\n        this.$message.error('文件必须为 .json 类型'); // this.$refs.lidar_t_file_ref.clearFiles;\n\n        this.$refs.image_t_file_ref.value = ''; // 清空file文件\n        // return false;\n      } else {\n        this.form.file = selectedFile;\n        var str = document.getElementById('filetemp').value;\n        str = str.split('\\\\')[str.split('\\\\').length - 1];\n        document.getElementById('inputFileAgent').value = str;\n      }\n    },\n    clickLoad: function clickLoad() {\n      this.$refs.refFile.dispatchEvent(new MouseEvent('click'));\n    }\n  }\n};",null]}