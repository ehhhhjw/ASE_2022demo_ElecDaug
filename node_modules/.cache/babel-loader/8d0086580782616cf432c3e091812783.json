{"remainingRequest":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/babel-loader/lib/index.js!/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/src/components/common/Tags.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/src/components/common/Tags.vue","mtime":1636378052000},{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/五月/LidarPlatformFrontend-hjw 2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport bus from \"./bus\";\nexport default {\n  data: function data() {\n    return {\n      tagsList: []\n    };\n  },\n  methods: {\n    isActive: function isActive(path) {\n      return path === this.$route.fullPath;\n    },\n    closeTags: function closeTags(index) {\n      var delItem = this.tagsList.splice(index, 1)[0];\n      var item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\n\n      if (item) {\n        delItem.path === this.$route.fullPath && this.$router.push(item.path);\n      } else {\n        var curItem = {};\n        curItem.name = 'dashboard';\n        curItem.path = '/dashboard';\n        curItem.title = 'Home Poge';\n        this.tagsList = [];\n        this.tagsList.push(curItem);\n        this.$router.push('/dashboard');\n      }\n    },\n    closeAll: function closeAll() {\n      var curItem = {};\n      curItem.name = 'dashboard';\n      curItem.path = '/dashboard';\n      curItem.title = 'Home Poge';\n      this.tagsList = [];\n      this.tagsList.push(curItem);\n      this.$router.push('/dashboard');\n    },\n    closeOther: function closeOther() {\n      var _this = this;\n\n      var curItem = this.tagsList.filter(function (item) {\n        return item.path === _this.$route.fullPath;\n      });\n      this.tagsList = curItem;\n    },\n    setTags: function setTags(route) {\n      var isExist = this.tagsList.some(function (item) {\n        return item.path === route.fullPath;\n      });\n\n      if (!isExist) {\n        if (this.tagsList.length >= 8) {\n          this.tagsList.shift();\n        }\n\n        this.tagsList.push({\n          title: route.meta.title,\n          path: route.fullPath,\n          name: route.matched[1].components.default.name\n        });\n      }\n\n      bus.$emit('tags', this.tagsList);\n    },\n    handleTags: function handleTags(command) {\n      command === 'other' ? this.closeOther() : this.closeAll();\n    }\n  },\n  computed: {\n    showTags: function showTags() {\n      return this.tagsList.length > 0;\n    }\n  },\n  watch: {\n    $route: function $route(newValue, oldValue) {\n      this.setTags(newValue);\n    }\n  },\n  created: function created() {\n    var _this2 = this;\n\n    this.setTags(this.$route);\n    bus.$on('close_current_tags', function () {\n      for (var i = 0, len = _this2.tagsList.length; i < len; i++) {\n        var item = _this2.tagsList[i];\n\n        if (item.path === _this2.$route.fullPath) {\n          if (i < len - 1) {\n            _this2.$router.push(_this2.tagsList[i + 1].path);\n          } else if (i > 0) {\n            _this2.$router.push(_this2.tagsList[i - 1].path);\n          } else {\n            _this2.$router.push('/');\n          }\n\n          _this2.tagsList.splice(i, 1);\n\n          break;\n        }\n      }\n    });\n  }\n};",{"version":3,"sources":["Tags.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"tags\" v-if=\"showTags\">\n        <ul>\n            <li class=\"tags-li\" v-for=\"(item, index) in tagsList\" :class=\"{ active: isActive(item.path) }\" :key=\"index\">\n                <router-link :to=\"item.path\" class=\"tags-li-title\">\n                    {{ item.title }}\n                </router-link>\n                <span class=\"tags-li-icon\" @click=\"closeTags(index)\"><i class=\"el-icon-close\"></i></span>\n            </li>\n        </ul>\n        <div class=\"tags-close-box\">\n            <el-dropdown @command=\"handleTags\">\n                <el-button size=\"mini\" type=\"primary\"> Tags <i class=\"el-icon-arrow-down el-icon--right\"></i> </el-button>\n                <el-dropdown-menu size=\"small\" slot=\"dropdown\">\n                    <el-dropdown-item command=\"other\">Close Others</el-dropdown-item>\n                    <el-dropdown-item command=\"all\">Close All</el-dropdown-item>\n                </el-dropdown-menu>\n            </el-dropdown>\n        </div>\n    </div>\n</template>\n<script>\nimport bus from './bus';\nexport default {\n    data() {\n        return {\n            tagsList: []\n        };\n    },\n    methods: {\n        isActive(path) {\n            return path === this.$route.fullPath;\n        },\n        closeTags(index) {\n            const delItem = this.tagsList.splice(index, 1)[0];\n            const item = this.tagsList[index] ? this.tagsList[index] : this.tagsList[index - 1];\n            if (item) {\n                delItem.path === this.$route.fullPath && this.$router.push(item.path);\n            } else {\n                const curItem = {};\n                curItem.name = 'dashboard';\n                curItem.path = '/dashboard';\n                curItem.title = 'Home Poge';\n                this.tagsList = [];\n                this.tagsList.push(curItem);\n                this.$router.push('/dashboard');\n            }\n        },\n        closeAll() {\n            const curItem = {};\n            curItem.name = 'dashboard';\n            curItem.path = '/dashboard';\n            curItem.title = 'Home Poge';\n            this.tagsList = [];\n            this.tagsList.push(curItem);\n            this.$router.push('/dashboard');\n        },\n        closeOther() {\n            const curItem = this.tagsList.filter(item => {\n                return item.path === this.$route.fullPath;\n            });\n            this.tagsList = curItem;\n        },\n        setTags(route) {\n            const isExist = this.tagsList.some(item => {\n                return item.path === route.fullPath;\n            });\n            if (!isExist) {\n                if (this.tagsList.length >= 8) {\n                    this.tagsList.shift();\n                }\n                this.tagsList.push({\n                    title: route.meta.title,\n                    path: route.fullPath,\n                    name: route.matched[1].components.default.name\n                });\n            }\n            bus.$emit('tags', this.tagsList);\n        },\n        handleTags(command) {\n            command === 'other' ? this.closeOther() : this.closeAll();\n        }\n    },\n    computed: {\n        showTags() {\n            return this.tagsList.length > 0;\n        }\n    },\n    watch: {\n        $route(newValue, oldValue) {\n            this.setTags(newValue);\n        }\n    },\n    created() {\n        this.setTags(this.$route);\n        bus.$on('close_current_tags', () => {\n            for (let i = 0, len = this.tagsList.length; i < len; i++) {\n                const item = this.tagsList[i];\n                if (item.path === this.$route.fullPath) {\n                    if (i < len - 1) {\n                        this.$router.push(this.tagsList[i + 1].path);\n                    } else if (i > 0) {\n                        this.$router.push(this.tagsList[i - 1].path);\n                    } else {\n                        this.$router.push('/');\n                    }\n                    this.tagsList.splice(i, 1);\n                    break;\n                }\n            }\n        });\n    }\n};\n</script>\n<style>\n.tags {\n    position: relative;\n    height: 30px;\n    overflow: hidden;\n    background: #fff;\n    padding-right: 120px;\n    box-shadow: 0 5px 10px #ddd;\n}\n.tags ul {\n    box-sizing: border-box;\n    width: 100%;\n    height: 100%;\n}\n.tags-li {\n    float: left;\n    margin: 3px 5px 2px 3px;\n    border-radius: 3px;\n    font-size: 12px;\n    overflow: hidden;\n    cursor: pointer;\n    height: 23px;\n    line-height: 23px;\n    border: 1px solid #e9eaec;\n    background: #fff;\n    padding: 0 5px 0 12px;\n    vertical-align: middle;\n    color: #666;\n    -webkit-transition: all 0.3s ease-in;\n    -moz-transition: all 0.3s ease-in;\n    transition: all 0.3s ease-in;\n}\n.tags-li:not(.active):hover {\n    background: #f8f8f8;\n}\n.tags-li.active {\n    color: #fff;\n}\n.tags-li-title {\n    float: left;\n    max-width: 95px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    margin-right: 5px;\n    color: #666;\n}\n.tags-li.active .tags-li-title {\n    color: #fff;\n    /* width: 120px; */\n}\n.tags-close-box {\n    position: absolute;\n    right: 0;\n    top: 0;\n    box-sizing: border-box;\n    padding-top: 1px;\n    text-align: center;\n    width: 110px;\n    height: 30px;\n    background: #fff;\n    box-shadow: -3px 0 15px 3px rgba(0, 0, 0, 0.1);\n    z-index: 10;\n}\n</style>\n"],"sourceRoot":"src/components/common"}]}