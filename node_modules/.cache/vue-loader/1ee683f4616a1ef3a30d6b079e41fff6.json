{"remainingRequest":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/src/components/page/Log.vue?vue&type=style&index=0&id=38df65b4&scoped=true&lang=css&","dependencies":[{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/src/components/page/Log.vue","mtime":1628741922000},{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.el-table,\n.el-table__expanded-cell {\n    background-color: #409eff;\n}\n.el-table th,\n.el-table tr {\n    background-color: #409eff;\n}\n",{"version":3,"sources":["Log.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Log.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\n    <div>\n        <div class=\"crumbs\">\n            <el-breadcrumb separator=\"/\">\n                <el-breadcrumb-item> <i class=\"el-icon-reading\"></i> 平台日志管理 </el-breadcrumb-item>\n            </el-breadcrumb>\n        </div>\n        <el-card>\n            <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\">\n                <el-tab-pane label=\"24小时内日志数据\" name=\"first\">\n                    <el-table :data=\"logShow_new_one\" style=\"width: 99%\" stripe>\n                        <el-table-column type=\"index\"></el-table-column>\n                        <el-table-column type=\"expand\" style=\"background:rgba(150, 154, 184,0.05);\">\n                            <template slot-scope=\"scope\">\n                                <el-table :data=\"scope.row.children\" style=\"width: 62%\">\n                                    <el-table-column prop=\"label4\" label=\"生成方法名\" width=\"180\"> </el-table-column>\n                                    <el-table-column prop=\"finish_task_number\" label=\"已完成任务数量\" width=\"180\"> </el-table-column>\n                                    <el-table-column prop=\"ran_task_number\" label=\"运行中任务数量\" width=\"180\"> </el-table-column>\n                                    <el-table-column prop=\"generate_data_number\" label=\"生成数据数量\" width=\"180\"> </el-table-column>\n                                </el-table>\n                            </template>\n                        </el-table-column>\n                        <el-table-column prop=\"label1\" label=\"日志记录时间\" align=\"left\"> </el-table-column>\n                    </el-table>\n                </el-tab-pane>\n                <el-tab-pane label=\"近15天系统日志数据\" name=\"second\">\n                    <el-table :data=\"logShow_new_two\" style=\"width: 99%\" stripe>\n                        <el-table-column type=\"index\"></el-table-column>\n                        <el-table-column type=\"expand\" style=\"background:rgba(150, 154, 184,0.05);\">\n                            <template slot-scope=\"scope\">\n                                <el-table :data=\"scope.row.children\" style=\"width: 62%\">\n                                    <el-table-column prop=\"label4\" label=\"生成方法名\" width=\"180\"> </el-table-column>\n                                    <el-table-column prop=\"finish_task_number\" label=\"已完成任务数量\" width=\"180\"> </el-table-column>\n                                    <el-table-column prop=\"ran_task_number\" label=\"运行中任务数量\" width=\"180\"> </el-table-column>\n                                    <el-table-column prop=\"generate_data_number\" label=\"生成数据数量\" width=\"180\"> </el-table-column>\n                                </el-table>\n                            </template>\n                        </el-table-column>\n                        <el-table-column prop=\"label1\" label=\"日志记录时间\" align=\"left\"> </el-table-column>\n                    </el-table>\n                </el-tab-pane>\n                <el-tab-pane label=\"近6个月系统日志数据\" name=\"third\">\n                    <el-table :data=\"logShow_new_three\" style=\"width: 99%\" stripe>\n                        <el-table-column type=\"index\"></el-table-column>\n                        <el-table-column type=\"expand\" style=\"background:rgba(150, 154, 184,0.05);\">\n                            <template slot-scope=\"scope\">\n                                <el-table :data=\"scope.row.children\" style=\"width: 62%\">\n                                    <el-table-column prop=\"label4\" label=\"生成方法名\" width=\"180\"> </el-table-column>\n                                    <el-table-column prop=\"finish_task_number\" label=\"已完成任务数量\" width=\"180\"> </el-table-column>\n                                    <el-table-column prop=\"ran_task_number\" label=\"运行中任务数量\" width=\"180\"> </el-table-column>\n                                    <el-table-column prop=\"generate_data_number\" label=\"生成数据数量\" width=\"180\"> </el-table-column>\n                                </el-table>\n                            </template>\n                        </el-table-column>\n                        <el-table-column prop=\"label1\" label=\"日志记录时间\" align=\"left\"> </el-table-column>\n                    </el-table>\n                </el-tab-pane>\n            </el-tabs>\n        </el-card>\n    </div>\n</template>\n<script>\nimport qs from 'qs';\nimport fileDownload from 'js-file-download';\nexport default {\n    name: 'baseform',\n    data() {\n        return {\n            activeName: 'first',\n            logData: {},\n            logShow_old: [],\n            logShow_new_one: [],\n            logShow_new_two: [],\n            logShow_new_three: [],\n            logDownload: ''\n        };\n    },\n    methods: {\n        async getOne() {\n            const { data: data } = await this.$http.get('log/recent_twenty_four_hours/');\n            if (data.code !== 20000) {\n                return this.$message.error('获取24小时内日志数据失败！' + '错误原因：' + data.msg);\n            }\n            this.logData = data.data;\n            this.showData(1);\n        },\n        async getTwo() {\n            const { data: data } = await this.$http.get('log/recent_fifteen_days/');\n            if (data.code !== 20000) {\n                return this.$message.error('获取近15日系统日志数据失败！' + '错误原因：' + data.msg);\n            }\n            this.logData = data.data;\n\n            this.showData(2);\n        },\n        async getThree() {\n            const { data: data } = await this.$http.get('log/recent_six_months/');\n            if (data.code !== 20000) {\n                return this.$message.error('获取近6个月系统日志数据失败！' + '错误原因：' + data.msg);\n            }\n            this.logData = data.data;\n            this.showData(3);\n        },\n        handleClick(tab, event) {},\n        fileDownload() {\n            fileDownload(this.logDownload, 'logData.json');\n        },\n        showData(num) {\n            var logShow = [];\n            for (var date in this.logData) {\n                var units2_new = [];\n                for (var method in this.logData[date]) {\n                    var unit4 = {};\n                    unit4 = JSON.parse(JSON.stringify(this.logData[date][method]));\n                    unit4.label4 = method;\n                    units2_new.push(unit4);\n                }\n                var unit1_new = {};\n                unit1_new.label1 = date;\n                unit1_new.children = units2_new;\n                logShow.push(unit1_new);\n            }\n\n            if (num === 1) {\n                this.logShow_new_one = logShow;\n            } else if (num === 2) {\n                this.logShow_new_two = logShow;\n            } else {\n                this.logShow_new_three = logShow;\n            }\n        }\n    },\n    mounted() {\n        this.getOne();\n        this.getTwo();\n        this.getThree();\n    }\n};\n</script>\n<style scoped>\n.el-table,\n.el-table__expanded-cell {\n    background-color: #409eff;\n}\n.el-table th,\n.el-table tr {\n    background-color: #409eff;\n}\n</style>\n"]}]}