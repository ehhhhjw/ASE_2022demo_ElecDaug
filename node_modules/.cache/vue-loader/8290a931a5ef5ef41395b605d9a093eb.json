{"remainingRequest":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/src/components/page/Log.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/src/components/page/Log.vue","mtime":1628741922000},{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/hejiawei/Desktop/LidarPlatformFrontend-hjw 2/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport qs from 'qs';\nimport fileDownload from 'js-file-download';\nexport default {\n    name: 'baseform',\n    data() {\n        return {\n            activeName: 'first',\n            logData: {},\n            logShow_old: [],\n            logShow_new_one: [],\n            logShow_new_two: [],\n            logShow_new_three: [],\n            logDownload: ''\n        };\n    },\n    methods: {\n        async getOne() {\n            const { data: data } = await this.$http.get('log/recent_twenty_four_hours/');\n            if (data.code !== 20000) {\n                return this.$message.error('获取24小时内日志数据失败！' + '错误原因：' + data.msg);\n            }\n            this.logData = data.data;\n            this.showData(1);\n        },\n        async getTwo() {\n            const { data: data } = await this.$http.get('log/recent_fifteen_days/');\n            if (data.code !== 20000) {\n                return this.$message.error('获取近15日系统日志数据失败！' + '错误原因：' + data.msg);\n            }\n            this.logData = data.data;\n\n            this.showData(2);\n        },\n        async getThree() {\n            const { data: data } = await this.$http.get('log/recent_six_months/');\n            if (data.code !== 20000) {\n                return this.$message.error('获取近6个月系统日志数据失败！' + '错误原因：' + data.msg);\n            }\n            this.logData = data.data;\n            this.showData(3);\n        },\n        handleClick(tab, event) {},\n        fileDownload() {\n            fileDownload(this.logDownload, 'logData.json');\n        },\n        showData(num) {\n            var logShow = [];\n            for (var date in this.logData) {\n                var units2_new = [];\n                for (var method in this.logData[date]) {\n                    var unit4 = {};\n                    unit4 = JSON.parse(JSON.stringify(this.logData[date][method]));\n                    unit4.label4 = method;\n                    units2_new.push(unit4);\n                }\n                var unit1_new = {};\n                unit1_new.label1 = date;\n                unit1_new.children = units2_new;\n                logShow.push(unit1_new);\n            }\n\n            if (num === 1) {\n                this.logShow_new_one = logShow;\n            } else if (num === 2) {\n                this.logShow_new_two = logShow;\n            } else {\n                this.logShow_new_three = logShow;\n            }\n        }\n    },\n    mounted() {\n        this.getOne();\n        this.getTwo();\n        this.getThree();\n    }\n};\n",null]}